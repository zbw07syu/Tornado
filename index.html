<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tornado Game</title>

    <!-- Font Loading -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fontfaceobserver/2.1.0/fontfaceobserver.standalone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
    </noscript>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 id="gameTitle">Tornado</h1>

    <div id="gameContainer">
        <!-- Left Panel -->
        <div id="leftPanel">
            <button onclick="toggleMusic()">Mute/Unmute Music</button>
            <button onclick="restartGame()">Restart</button>
            <button id="rulesBtn">Rules</button>
            <button id="rollDiceBtn">ðŸŽ² Roll Dice</button>
            <div id="diceResult"></div>
        </div>

        <!-- Grid + Questions -->
        <div id="gridContainer">
            <div id="grid"></div>
            <div id="questionArea">
                <div id="question">ðŸŽ² Roll the dice to begin the game!</div>
                <div id="answer"></div>
                <div id="controls"></div>
            </div>
        </div>

        <!-- Score Panel -->
        <div id="scorePanel">
            <ul id="scores"></ul>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="bgMusic" src="sounds/ShaftThemeChiptune.mp3" loop></audio>
    <audio id="correctSfx" src="sounds/correct.wav"></audio>
    <audio id="incorrectSfx" src="sounds/incorrect.wav"></audio>
    <audio id="tornadoSfx" src="sounds/tornado.wav"></audio>
    <audio id="diceSfx" src="sounds/dice.wav"></audio>
    <audio id="passSfx" src="sounds/meow.wav"></audio>

<!-- Rules panel -->
<div id="rulesPanel">
  <div id="rulesContent">
    <h2>1. Setup</h2>
    <ul>
      <li>There are 2 teams.</li>
      <li>Each team rolls a dice. The team with the highest number goes first.</li>
    </ul>

    <h2>2. Taking Turns</h2>
    <ul>
      <li>Pick a number on the grid.</li>
      <li>If itâ€™s a question:
        <ul>
          <li>Answer correctly â†’ gain points and choose another number or pass turn.</li>
          <li>Answer incorrectly â†’ turn ends, next team plays.</li>
        </ul>
      </li>
      <li>If itâ€™s a tornado:
        <ul>
          <li>Lose all points for the game, and turn ends immediately.</li>
        </ul>
      </li>
    </ul>

    <h2>3. Ending the Game</h2>
    <ul>
      <li>When all squares are revealed, the game is over.</li>
      <li>The team with the most points wins!</li>
    </ul>
  </div>
  <button id="closeRulesBtn">Close</button>
</div>

<!-- Game JS -->
<script src="game.js"></script>

<!-- Font loading fix -->
<script>
document.body.style.opacity = 0; // hide initially

const font = new FontFaceObserver('Bangers');
font.load().then(() => {
  document.body.style.opacity = 1; // show page when font is ready
}).catch(() => {
  document.body.style.opacity = 1; // fallback
});
</script>
</body>
</html>
